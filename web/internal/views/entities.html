{{ define "title" }} Entidades {{ end }}

<div class="flex flex-col-reverse gap-6 xl:flex-row xl:justify-between">
    <section class="xl:w-3/5">
        <table class="flex flex-col gap-6">
            <thead class="sticky top-14 rounded bg-gray-100">
                <tr class="flex items-center gap-12 px-6 py-3">
                    <th class="flex-1 text-center">Nome</th>
                    <th class="flex-1 text-center">CPF/CNPJ</th>
                    <th class="hidden flex-1 text-center sm:block">IE</th>
                    <th class="hidden flex-1 text-center sm:block">Bairro</th>
                </tr>
            </thead>
            {{ template "partials/entity-list" . }}
        </table>
    </section>
    <aside class="xl:w-2/5">
        {{ template "partials/entity-form" . }}
    </aside>

    <script>
        // highlight entity card on click
        document.querySelector('#entity-list').onclick = function(event) {
            const entityCard = event.target.closest('tr')
            if (entityCard) {
                const previousSelectedCard = this.querySelector('tr.bg-gray-700.text-white')
                if (previousSelectedCard) {
                    previousSelectedCard.className = entityCard.className
                }
                entityCard.className += " bg-gray-700 text-white"
            }
        }
    </script>
</div>
